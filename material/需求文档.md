# ooad proj 需求文档

## Requirement

### 管理端

+ 管理员账号管理
  + 一个顶级管理员，可以增删管理员账号
  + 一般管理员可以进行宿舍管理和学生账号管理
+ 宿舍管理
  + 单个宿舍的增删改
  + 给定区划、楼栋、多个楼层、每层房间数量批量创建房间：如，学生宿舍区、11栋楼、2-17、每层20个房间 => 将创建该楼栋201~220, ..., 1701~1720
+ 学生账号管理
  + 单个学生账号的增删改
  + 从excel表格中批量导入并创建学生账号
+ 通知发布
+ 宿舍分配
  + 根据学位、入学年份、性别关联可选宿舍
  + 根据学位、入学年份、性别设置选宿舍的阶段（组队、预选、正选）及对应时间
  + 根据学位、入学年份、性别导出excel表格数据

### 学生端

+ 查看房间信息
+ 登录系统
+ 论坛模块
  + 发布评论
  + 使用Tag（包含区划、楼、层）标注评论
  + 可以对评论进行回复
+ 修改个人档案
+ 消息通知模块
+ 宿舍选择系统：
  + 舍友推荐模块
  + 阶段
    + 组队阶段 0：仅邀请制度
    + 收藏阶段 1：可收藏房间、可查看收藏房间的预选数量
    + 正选阶段 2：固定时间开始、以队伍为单位选择、先到先得
    + 结束阶段 3：

### 高级功能

- [x]  嵌入nkd元素，关联实际情况
- [x] 引入平面图，展示宿舍楼位置、房间位置、床铺位置，可预览
- [x] 设计错峰选择，区分男生/女生，博士/研究生选择时间，候补选择时间和房型展示
- [ ] 平台调换宿舍功能
- [ ] 在线沟通功能
- [x] 高并发抢宿舍
- [x] 防作弊系统：限制脚本，仅限单用户登陆
- [ ] 客户端
- [x] 页面美观
- [x] 部署服务器



## Entity and Relation

### Entity

#### 管理员账号

+ 账号
+ 密码

#### 区划

+ id
+ 名称

#### 楼栋

+ id
+ 名称
+ 描述
+ 区划 id

#### 布局

+ id
+ 名称
+ 描述
+ 图片 url

#### 宿舍

+ id
+ 楼层
+ 房号
+ 床位数
+ 描述
+ 布局 id
+ 空：是、否
+ 性别：男、女、待定
+ 学位：本科、硕士、博士、待定
+ 楼栋 id

#### 队伍

+ id
+ 宿舍 id

#### 学生账户

+ id
+ 姓名
+ 性别
+ 学号：包含学位和入学年份信息
+ 照片 url
+ 个人描述
+ 睡觉时间
+ 起床时间
+ 空调温度
+ 是否打呼噜
+ qq
+ 邮箱
+ 微信号
+ 队伍 id

### Relation

#### 队伍-收藏宿舍

+ 队伍 id
+ 宿舍 id